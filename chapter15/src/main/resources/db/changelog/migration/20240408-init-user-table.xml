<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.4.xsd">
    <changeSet id="20240615-15-25-init-user-table" author="Hui Lee">
        <sql dbms="!h2, oracle, mysql">
            CREATE TABLE `api_logs` (
            `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
            `uuid` varchar(36) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'UUID',
            `category` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT '拉取' COMMENT '推送、拉取方式',
            `task` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '任务名称',
            `name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'API名称',
            `rel_type` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '关联模型',
            `rel_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '关联模型ID',
            `host` varchar(191) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '主机',
            `header` json DEFAULT NULL COMMENT '头信息',
            `param` json DEFAULT NULL COMMENT '报文',
            `response` json DEFAULT NULL COMMENT '响应结果',
            `created_at` timestamp NULL DEFAULT NULL COMMENT '创建时间',
            `updated_at` timestamp NULL DEFAULT NULL COMMENT '更新时间',
            PRIMARY KEY (`id`),
            UNIQUE KEY `api_log_uuid_index` (`uuid`)
            ) ENGINE=InnoDB AUTO_INCREMENT=2356 DEFAULT CHARSET=utf8mb3 COMMENT='API日志表';
        </sql>
    </changeSet>
</databaseChangeLog>
